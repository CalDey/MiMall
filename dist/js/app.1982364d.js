(function(t){function e(e){for(var a,n,c=e[0],o=e[1],l=e[2],u=0,p=[];u<c.length;u++)n=c[u],Object.prototype.hasOwnProperty.call(i,n)&&i[n]&&p.push(i[n][0]),i[n]=0;for(a in o)Object.prototype.hasOwnProperty.call(o,a)&&(t[a]=o[a]);d&&d(e);while(p.length)p.shift()();return r.push.apply(r,l||[]),s()}function s(){for(var t,e=0;e<r.length;e++){for(var s=r[e],a=!0,c=1;c<s.length;c++){var o=s[c];0!==i[o]&&(a=!1)}a&&(r.splice(e--,1),t=n(n.s=s[0]))}return t}var a={},i={app:0},r=[];function n(e){if(a[e])return a[e].exports;var s=a[e]={i:e,l:!1,exports:{}};return t[e].call(s.exports,s,s.exports,n),s.l=!0,s.exports}n.m=t,n.c=a,n.d=function(t,e,s){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(n.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)n.d(s,a,function(e){return t[e]}.bind(null,a));return s},n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],o=c.push.bind(c);c.push=e,c=c.slice();for(var l=0;l<c.length;l++)e(c[l]);var d=o;r.push([0,"chunk-vendors"]),s()})({0:function(t,e,s){t.exports=s("56d7")},"0025":function(t,e,s){},"072c":function(t,e,s){"use strict";s("e96f")},"122d":function(t,e,s){},"2eae":function(t,e,s){},"30db":function(t,e,s){"use strict";s("0025")},3924:function(t,e,s){"use strict";s("122d")},"511f":function(t,e,s){},"53d6":function(t,e,s){"use strict";s("686c")},"56d7":function(t,e,s){"use strict";s.r(e);s("0fb7"),s("450d");var a=s("f529"),i=s.n(a),r=(s("e260"),s("e6cf"),s("cca6"),s("a79d"),s("d3b7"),s("b0c0"),s("2b0e")),n=s("8c4f"),c=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("nav-header"),s("router-view"),s("nav-footer")],1)},o=[],l=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"header"},[s("div",{staticClass:"nav-topbar"},[s("div",{staticClass:"container"},[t._m(0),s("div",{staticClass:"topbar-user"},[t.username?s("a",{attrs:{href:"javascript:;"}},[t._v(t._s(t.username))]):t._e(),t.username?t._e():s("a",{attrs:{href:"javascript:;"},on:{click:t.login}},[t._v("登录")]),s("a",{attrs:{href:"javascript:;"}},[t._v("我的订单")]),s("a",{staticClass:"my-cart",attrs:{href:"javascript:;"},on:{click:t.goToCart}},[s("span",{staticClass:"icon-cart"}),t._v(" 购物车("+t._s(t.cartCount)+") ")])])])]),s("div",{staticClass:"nav-header"},[s("div",{staticClass:"container"},[t._m(1),s("div",{staticClass:"header-menu"},[s("div",{staticClass:"item-menu"},[s("span",[t._v("小米手机")]),s("div",{staticClass:"children"},[s("ul",t._l(t.phoneList,(function(e,a){return s("li",{key:a,staticClass:"product"},[s("a",{attrs:{href:"/#/product/"+e.id,target:"_blink"}},[s("div",{staticClass:"pro-img"},[s("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.mainImage,expression:"item.mainImage"}],attrs:{alt:e.subtitle}})]),s("div",{staticClass:"pro-name"},[t._v(t._s(e.name))]),s("div",{staticClass:"pro-price"},[t._v(t._s(t._f("currency")(e.price)))])])])})),0)])]),t._m(2),s("div",{staticClass:"item-menu"},[s("span",[t._v("电视")]),s("div",{staticClass:"children"},[s("ul",[s("li",{staticClass:"product"},[s("a",{attrs:{href:"",target:"_blink"}},[s("div",{staticClass:"pro-img"},[s("img",{directives:[{name:"lazy",rawName:"v-lazy",value:"/imgs/nav-img/nav-3-1.jpg",expression:"'/imgs/nav-img/nav-3-1.jpg'"}],attrs:{alt:""}})]),s("div",{staticClass:"pro-name"},[t._v("小米壁画电视 65英寸")]),s("div",{staticClass:"pro-price"},[t._v("6999元")])])]),s("li",{staticClass:"product"},[s("a",{attrs:{href:"",target:"_blink"}},[s("div",{staticClass:"pro-img"},[s("img",{directives:[{name:"lazy",rawName:"v-lazy",value:"/imgs/nav-img/nav-3-2.jpg",expression:"'/imgs/nav-img/nav-3-2.jpg'"}],attrs:{alt:""}})]),s("div",{staticClass:"pro-name"},[t._v("小米全面屏电视电视 E55A")]),s("div",{staticClass:"pro-price"},[t._v("1999元")])])]),s("li",{staticClass:"product"},[s("a",{attrs:{href:"",target:"_blink"}},[s("div",{staticClass:"pro-img"},[s("img",{directives:[{name:"lazy",rawName:"v-lazy",value:"/imgs/nav-img/nav-3-3.png",expression:"'/imgs/nav-img/nav-3-3.png'"}],attrs:{alt:""}})]),s("div",{staticClass:"pro-name"},[t._v("小米电视4A 32英寸")]),s("div",{staticClass:"pro-price"},[t._v("699元")])])]),s("li",{staticClass:"product"},[s("a",{attrs:{href:"",target:"_blink"}},[s("div",{staticClass:"pro-img"},[s("img",{directives:[{name:"lazy",rawName:"v-lazy",value:"/imgs/nav-img/nav-3-4.jpg",expression:"'/imgs/nav-img/nav-3-4.jpg'"}],attrs:{alt:""}})]),s("div",{staticClass:"pro-name"},[t._v("小米电视5A 55英寸")]),s("div",{staticClass:"pro-price"},[t._v("1799元")])])]),s("li",{staticClass:"product"},[s("a",{attrs:{href:"",target:"_blink"}},[s("div",{staticClass:"pro-img"},[s("img",{directives:[{name:"lazy",rawName:"v-lazy",value:"/imgs/nav-img/nav-3-5.jpg",expression:"'/imgs/nav-img/nav-3-5.jpg'"}],attrs:{alt:""}})]),s("div",{staticClass:"pro-name"},[t._v("小米电视4A 65英寸")]),s("div",{staticClass:"pro-price"},[t._v("2699元")])])]),s("li",{staticClass:"product"},[s("a",{attrs:{href:"",target:"_blink"}},[s("div",{staticClass:"pro-img"},[s("img",{directives:[{name:"lazy",rawName:"v-lazy",value:"/imgs/nav-img/nav-3-6.png",expression:"'/imgs/nav-img/nav-3-6.png'"}],attrs:{alt:""}})]),s("div",{staticClass:"pro-name"},[t._v("查看全部")]),s("div",{staticClass:"pro-price"},[t._v("查看全部")])])])])])])]),t._m(3)])])])},d=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"topbar-menu"},[s("a",{attrs:{href:"javascript:;"}},[t._v("小米商城")]),s("a",{attrs:{href:"javascript:;"}},[t._v("MUI")]),s("a",{attrs:{href:"javascript:;"}},[t._v("云服务")]),s("a",{attrs:{href:"javascript:;"}},[t._v("协议规则")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"header-logo"},[s("a",{attrs:{href:"/#/index"}})])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"item-menu"},[s("span",[t._v("RedMi红米")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"header-search"},[s("div",{staticClass:"wrapper"},[s("input",{attrs:{type:"text",name:"keyword"}}),s("a",{attrs:{href:"javascript:;"}})])])}],u=s("5530"),p=(s("b680"),s("fb6a"),s("2f62")),v={name:"nav-header",data:function(){return{phoneList:[]}},computed:Object(u["a"])({},Object(p["c"])(["username","cartCount"])),filters:{currency:function(t){return t?"￥"+t.toFixed(2)+"元":"0.00"}},mounted:function(){this.getProductList()},methods:{login:function(){this.$router.push("/login")},getProductList:function(){var t=this;this.axios.get("/products",{params:{categoryId:"100012",pageSize:6}}).then((function(e){e.list,e.list.length>=6&&(t.phoneList=e.list.slice(0,6))}))},goToCart:function(){this.$router.push("/cart")}}},m=v,f=(s("8ee7"),s("2877")),h=Object(f["a"])(m,l,d,!1,null,null,null),_=h.exports,g=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},C=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"footer"},[s("div",{staticClass:"footer-logo"},[s("img",{attrs:{src:"/imgs/logo-footer.png",alt:""}}),s("p",[t._v("小米商城")])]),s("div",{staticClass:"footer-link"},[s("a",{attrs:{href:""}},[t._v("CalDey的主页")]),s("span"),s("a",{attrs:{href:""}},[t._v("CalDey的博客")]),s("span"),s("a",{attrs:{href:""}},[t._v("CalDey的Github")]),s("span"),s("a",{attrs:{href:""}},[t._v("Vue全家桶实现小米商城")]),s("span")]),s("div",{staticClass:"copyright"},[t._v("Copyright ©2021 "),s("span",{staticClass:"domain"},[t._v("mi.futurefe.com")]),t._v(" All Rights Reserved.")])])}],b={name:"nav-footer"},w=b,y=(s("fad4"),Object(f["a"])(w,g,C,!1,null,"bcc262f0",null)),x=y.exports,j={name:"nav-home",components:{NavHeader:_,NavFooter:x}},k=j,$=Object(f["a"])(k,c,o,!1,null,null,null),E=$.exports,O=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"login"},[t._m(0),s("div",{staticClass:"wrapper"},[s("div",{staticClass:"container"},[s("div",{staticClass:"login-form"},[t._m(1),s("div",{staticClass:"input"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.username,expression:"username"}],attrs:{type:"text",placeholder:"请输入帐号"},domProps:{value:t.username},on:{input:function(e){e.target.composing||(t.username=e.target.value)}}})]),s("div",{staticClass:"input"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],attrs:{type:"password",placeholder:"请输入密码"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}})]),s("div",{staticClass:"btn-box"},[s("a",{staticClass:"btn",attrs:{href:"javascript:;"},on:{click:t.login}},[t._v("登录")])]),s("div",{staticClass:"tips"},[s("div",{staticClass:"sms",on:{click:t.register}},[t._v("手机短信登录/注册")]),t._m(2)])])])]),t._m(3)])},S=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container"},[s("a",{attrs:{href:"/#/index"}},[s("img",{attrs:{src:"/imgs/login-logo.png",alt:""}})])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("h3",[s("span",{staticClass:"checked"},[t._v("帐号登录")]),s("span",{staticClass:"sep-line"},[t._v("|")]),s("span",[t._v("扫码登录")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"reg"},[t._v("立即注册"),s("span",[t._v("|")]),t._v("忘记密码？")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"footer"},[s("div",{staticClass:"footer-link"},[s("a",{attrs:{href:""}},[t._v("CalDey的主页")]),s("span"),s("a",{attrs:{href:""}},[t._v("CalDey的博客")]),s("span"),s("a",{attrs:{href:""}},[t._v("CalDey的Github")]),s("span"),s("a",{attrs:{href:""}},[t._v("Vue全家桶实现小米商城")]),s("span")]),s("p",{staticClass:"copyright"},[t._v("Copyright ©2021 mi.futurefe.com All Rights Reserved.")])])}],P={name:"login",data:function(){return{username:"",password:"",userId:""}},methods:Object(u["a"])(Object(u["a"])({login:function(){var t=this,e=this.username,s=this.password;this.axios.post("/user/login",{username:e,password:s}).then((function(e){t.$cookie.set("userId",e.id,{expires:"Session"}),t.saveUserName(e.username),t.$router.push({name:"index",params:{from:"login"}})}))}},Object(p["b"])(["saveUserName"])),{},{register:function(){var t=this;this.axios.post("/user/register",{username:"CalDey",password:"12345678",emial:"caldey@qq.com"}).then((function(){t.$message.success("注册成功")}))}})},T=P,N=(s("eacb"),Object(f["a"])(T,O,S,!1,null,"b2de7d16",null)),M=N.exports,I=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"index"},[s("div",{staticClass:"container"},[s("div",{staticClass:"swiper-box"},[s("div",{staticClass:"nav-menu"},[s("ul",{staticClass:"menu-wrap"},[s("li",{staticClass:"menu-item"},[s("a",{attrs:{href:"javascript:;"}},[t._v("手机 电话卡")]),s("div",{staticClass:"children"},t._l(t.menuList,(function(e,a){return s("ul",{key:a},t._l(e,(function(e,a){return s("li",{key:a},[s("a",{attrs:{href:e?"/#?product/"+e.id:""}},[s("img",{attrs:{src:e?e.img:"/imgs/item-box-1.png",alt:""}}),t._v(" "+t._s(e?e.name:"小米9")+" ")])])})),0)})),0)]),t._m(0),t._m(1),t._m(2),t._m(3),t._m(4),t._m(5),t._m(6)])]),s("swiper",{attrs:{options:t.swiperOption}},[t._l(t.slideList,(function(t,e){return s("swiper-slide",{key:e},[s("a",{attrs:{href:"/#/product/"+t.id}},[s("img",{attrs:{src:t.img,alt:""}})])])})),s("div",{staticClass:"swiper-pagination",attrs:{slot:"pagination"},slot:"pagination"}),s("div",{staticClass:"swiper-button-prev",attrs:{slot:"button-prev"},slot:"button-prev"}),s("div",{staticClass:"swiper-button-next",attrs:{slot:"button-next"},slot:"button-next"})],2)],1),s("div",{staticClass:"ads-box"},t._l(t.adsList,(function(t){return s("a",{key:t.id,attrs:{href:"/#/product/"+t.id}},[s("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.img,expression:"item.img"}],attrs:{alt:""}})])})),0),s("div",{staticClass:"banner"},[s("a",{attrs:{href:"/#/product/30"}},[s("img",{directives:[{name:"lazy",rawName:"v-lazy",value:"/imgs/banner-1.png",expression:"'/imgs/banner-1.png'"}],attrs:{alt:""}})])])]),s("div",{staticClass:"product-box"},[s("div",{staticClass:"container"},[s("h2",[t._v("手机")]),s("div",{staticClass:"wrapper"},[s("div",{staticClass:"banner-left"},[s("a",{attrs:{href:"/#/product/35"}},[s("img",{directives:[{name:"lazy",rawName:"v-lazy",value:"/imgs/mix-alpha.jpg",expression:"'/imgs/mix-alpha.jpg'"}],attrs:{alt:""}})])]),s("div",{staticClass:"list-box"},t._l(t.phoneList,(function(e,a){return s("div",{key:a,staticClass:"list"},t._l(e,(function(e,a){return s("div",{key:a,staticClass:"item"},[s("span",{class:{"kill-pro":a%2==0}},[t._v("秒杀")]),s("div",{staticClass:"item-img"},[s("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.mainImage,expression:"item.mainImage"}],attrs:{alt:""}})]),s("div",{staticClass:"item-info"},[s("h3",[t._v(t._s(e.name))]),s("p",[t._v(t._s(e.subtitle))]),s("p",{staticClass:"price",on:{click:function(s){return t.addCart(e.id)}}},[t._v(t._s(e.price)+"元")])])])})),0)})),0)])])]),s("service-bar"),s("modal",{attrs:{title:"提示",sureText:"查看购物车",btnType:"1",modalType:"middle",showModal:t.showModal},on:{submit:t.goToCart,cancel:function(e){t.showModal=!1}},scopedSlots:t._u([{key:"body",fn:function(){return[s("p",[t._v("商品添加成功！")])]},proxy:!0}])})],1)},z=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("li",{staticClass:"menu-item"},[s("a",{attrs:{href:"javascript:;"}},[t._v("电视 盒子")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("li",{staticClass:"menu-item"},[s("a",{attrs:{href:"javascript:;"}},[t._v("笔记本 平板")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("li",{staticClass:"menu-item"},[s("a",{attrs:{href:"javascript:;"}},[t._v("家电 插线板")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("li",{staticClass:"menu-item"},[s("a",{attrs:{href:"javascript:;"}},[t._v("出行 穿戴")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("li",{staticClass:"menu-item"},[s("a",{attrs:{href:"javascript:;"}},[t._v("智能 路由器")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("li",{staticClass:"menu-item"},[s("a",{attrs:{href:"javascript:;"}},[t._v("电脑 配件")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("li",{staticClass:"menu-item"},[s("a",{attrs:{href:"javascript:;"}},[t._v("生活 箱包")])])}],L=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},D=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"service"},[s("div",{staticClass:"container"},[s("ul",[s("li",[s("span",{staticClass:"icon-setting"}),t._v("预约维修服务")]),s("li",[s("span",{staticClass:"icon-7day"}),t._v("7天无理由退货")]),s("li",[s("span",{staticClass:"icon-15day"}),t._v("15天免费换货")]),s("li",[s("span",{staticClass:"icon-post"}),t._v("满150元包邮")])])])])}],A={name:"service-bar"},G=A,B=(s("072c"),Object(f["a"])(G,L,D,!1,null,"7a3b08ba",null)),U=B.exports,F=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("transition",{attrs:{name:"slide"}},[s("div",{directives:[{name:"show",rawName:"v-show",value:t.showModal,expression:"showModal"}],staticClass:"modal"},[s("div",{staticClass:"mask"}),s("div",{staticClass:"modal-dialog"},[s("div",{staticClass:"modal-header"},[s("span",[t._v(t._s(t.title))]),s("a",{staticClass:"icon-close",attrs:{href:"javascript:;"},on:{click:function(e){return t.$emit("cancel")}}})]),s("div",{staticClass:"modal-body"},[t._t("body")],2),s("div",{staticClass:"modal-footer"},[1==t.btnType?s("a",{staticClass:"btn",attrs:{href:"javascript:;"},on:{click:function(e){return t.$emit("submit")}}},[t._v(t._s(t.sureText))]):t._e(),2==t.btnType?s("a",{staticClass:"btn",attrs:{href:"javascript:;"},on:{click:function(e){return t.$emit("cancel")}}},[t._v(t._s(t.cancelText))]):t._e(),3==t.btnType?s("div",{staticClass:"btn-group"},[s("a",{staticClass:"btn",attrs:{href:"javascript:;"},on:{click:function(e){return t.$emit("submit")}}},[t._v(t._s(t.sureText))]),s("a",{staticClass:"btn",attrs:{href:"javascript:;"},on:{click:function(e){return t.$emit("cancel")}}},[t._v(t._s(t.cancelText))])]):t._e()])])])])},R=[],H={name:"modal",props:{modalType:{type:String,default:"form"},title:String,btnType:String,sureText:{type:String,default:"确定"},cancelText:{type:String,default:"取消"},showModal:Boolean}},V=H,q=(s("30db"),Object(f["a"])(V,F,R,!1,null,null,null)),J=q.exports,Q=s("7212"),K=(s("dfa4"),{name:"index",components:{swiper:Q["swiper"],swiperSlide:Q["swiperSlide"],ServiceBar:U,Modal:J},data:function(){return{swiperOption:{autoplay:!0,loop:!0,effect:"cube",cubeEffect:{shadowOffset:100,shadowScale:.6},pagination:{el:".swiper-pagination",clickable:!0},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"}},slideList:[{id:"42",img:"/imgs/slider/slide-1.jpg"},{id:"45",img:"/imgs/slider/slide-2.jpg"},{id:"46",img:"/imgs/slider/slide-3.jpg"},{id:"42",img:"/imgs/slider/slide-4.jpg"},{id:"42",img:"/imgs/slider/slide-5.jpg"}],menuList:[[{id:30,img:"/imgs/item-box-1.png",name:"小米CC9"},{id:31,img:"/imgs/item-box-2.png",name:"小米8青春版"},{id:32,img:"/imgs/item-box-3.jpg",name:"Redmi K20 Pro"},{id:30,img:"/imgs/item-box-4.jpg",name:"移动4G专区"}],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]],adsList:[{id:33,img:"/imgs/ads/ads-1.png"},{id:48,img:"/imgs/ads/ads-2.jpg"},{id:45,img:"/imgs/ads/ads-3.png"},{id:47,img:"/imgs/ads/ads-4.jpg"}],phoneList:[],showModal:!1}},mounted:function(){this.init()},methods:{init:function(){var t=this;this.axios.get("/products",{params:{categoryId:100012,pageSize:14}}).then((function(e){e.list=e.list.slice(6,14),t.phoneList=[e.list.slice(0,4),e.list.slice(4,8)]}))},addCart:function(t){var e=this;this.showModal=!0,this.axios.post("/carts",{productId:t,selected:!0}).then((function(t){e.showModal=!0,e.$store.dispatch("saveCartCount",t.cartTotalQuantity)})).catch((function(){e.showModal=!0}))},goToCart:function(){this.$router.push("/cart")}}}),Y=K,W=(s("e24c"),Object(f["a"])(Y,I,z,!1,null,"3f983fb0",null)),X=W.exports,Z=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"product"},[s("product-param",{attrs:{title:t.product.name},scopedSlots:t._u([{key:"buy",fn:function(){return[s("button",{staticClass:"btn",on:{click:t.buy}},[t._v("立即购买")])]},proxy:!0}])}),s("div",{staticClass:"content"},[s("div",{staticClass:"item-bg"},[s("h2",[t._v(t._s(t.product.name))]),s("h3",[t._v(t._s(t.product.subtitle))]),t._m(0),s("div",{staticClass:"price"},[s("span",[t._v("￥"),s("em",[t._v(t._s(t.product.price))])])])]),s("div",{staticClass:"item-bg-2"}),s("div",{staticClass:"item-bg-3"}),s("div",{staticClass:"item-swiper"},[s("swiper",{attrs:{options:t.swiperOption}},[s("swiper-slide",[s("img",{attrs:{src:"/imgs/product/gallery-2.png"}})]),s("swiper-slide",[s("img",{attrs:{src:"/imgs/product/gallery-3.png"}})]),s("swiper-slide",[s("img",{attrs:{src:"/imgs/product/gallery-4.png"}})]),s("swiper-slide",[s("img",{attrs:{src:"/imgs/product/gallery-5.jpg"}})]),s("swiper-slide",[s("img",{attrs:{src:"/imgs/product/gallery-6.jpg"}})]),s("div",{staticClass:"swiper-pagination",attrs:{slot:"pagination"},slot:"pagination"})],1),s("p",{staticClass:"desc"},[t._v("小米8 AI变焦双摄拍摄")])],1),s("div",{staticClass:"item-video"},[t._m(1),t._m(2),s("div",{staticClass:"video-bg",on:{click:function(e){t.showSlide="slideDown"}}}),s("div",{directives:[{name:"show",rawName:"v-show",value:t.showSlide,expression:"showSlide"}],staticClass:"video-box"},[s("div",{staticClass:"overlay"}),s("div",{staticClass:"video",class:t.showSlide},[s("span",{staticClass:"icon-close",on:{click:t.closeVideo}}),s("video",{attrs:{src:"/imgs/product/video.mp4",muted:"",autoplay:"",controls:"controls"},domProps:{muted:!0}})])])])])],1)},tt=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("p",[s("a",{attrs:{href:"javascript:;",id:""}},[t._v("全球首款双频 GP")]),s("span",[t._v("|")]),s("a",{attrs:{href:"javascript:;",id:""}},[t._v("骁龙845")]),s("span",[t._v("|")]),s("a",{attrs:{href:"javascript:;",id:""}},[t._v("AI 变焦双摄")]),s("span",[t._v("|")]),s("a",{attrs:{href:"javascript:;",id:""}},[t._v("红外人脸识别")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("h2",[t._v("60帧超慢动作摄影"),s("br"),t._v("慢慢回味每一瞬间的精彩")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("p",[t._v("后置960帧电影般超慢动作视频，将眨眼间的美妙展现得淋漓尽致！"),s("br"),t._v("更能AI 精准分析视频内容，15个场景智能匹配背景音效。")])}],et=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"nav-bar",class:{is_fixed:t.isFixed}},[s("div",{staticClass:"container"},[s("div",{staticClass:"pro-title"},[t._v(" "+t._s(t.title)+" ")]),s("div",{staticClass:"pro-param"},[s("a",{attrs:{href:"javascript:;"}},[t._v("概述")]),s("span",[t._v("|")]),s("a",{attrs:{href:"javascript:;"}},[t._v("参数")]),s("span",[t._v("|")]),s("a",{attrs:{href:"javascript:;"}},[t._v("用户评价")]),t._t("buy")],2)])])},st=[],at={name:"nav-bar",props:{title:String},data:function(){return{isFixed:!1}},mounted:function(){window.addEventListener("scroll",this.initHeight,!1)},methods:{initHeight:function(){var t=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop;this.isFixed=t>152}},destroyed:function(){window.removeEventListener("scroll",this.initHeight,!1)}},it=at,rt=(s("9406"),Object(f["a"])(it,et,st,!1,null,"eceaf662",null)),nt=rt.exports,ct={name:"product",components:{swiper:Q["swiper"],swiperSlide:Q["swiperSlide"],ProductParam:nt},data:function(){return{id:this.$route.params.id,showSlide:"",product:{},swiperOption:{autoplay:!0,slidesPerView:3,spaceBetween:30,freeMode:!0,pagination:{el:".swiper-pagination",clickable:!0}}}},mounted:function(){this.getProductInfo()},methods:{getProductInfo:function(){var t=this;this.axios.get("/products/".concat(this.id)).then((function(e){t.product=e}))},buy:function(){this.$router.push("/detail/".concat(this.id))},closeVideo:function(){var t=this,e=document.getElementsByTagName("video")[0];this.showSlide="slideUp",setTimeout((function(){t.showSlide="",e.pause()}),600)}}},ot=ct,lt=(s("53d6"),Object(f["a"])(ot,Z,tt,!1,null,"03b38632",null)),dt=lt.exports,ut=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"detail"},[s("product-param",{attrs:{title:t.product.name}}),s("div",{staticClass:"wrapper"},[s("div",{staticClass:"container clearfix"},[s("div",{staticClass:"swiper"},[s("swiper",{attrs:{options:t.swiperOption}},[s("swiper-slide",[s("img",{attrs:{src:"/imgs/detail/phone-1.jpg",alt:"手机展示图1"}})]),s("swiper-slide",[s("img",{attrs:{src:"/imgs/detail/phone-2.jpg",alt:"手机展示图2"}})]),s("swiper-slide",[s("img",{attrs:{src:"/imgs/detail/phone-3.jpg",alt:"手机展示图3"}})]),s("swiper-slide",[s("img",{attrs:{src:"/imgs/detail/phone-4.jpg",alt:"手机展示图4"}})]),s("div",{staticClass:"swiper-pagination",attrs:{slot:"pagination"},slot:"pagination"})],1)],1),s("div",{staticClass:"content"},[s("h2",{staticClass:"item-title"},[t._v(t._s(t.product.name))]),t._m(0),s("div",{staticClass:"delivery"},[t._v("小米自营")]),s("div",{staticClass:"item-price"},[t._v(t._s(t.product.price)+"元"),s("span",{staticClass:"del"},[t._v("1999元")])]),s("div",{staticClass:"line"}),t._m(1),s("div",{staticClass:"item-version clearfix"},[s("h2",[t._v("选择版本")]),s("div",{staticClass:"phone fl",class:{checked:1==t.version},on:{click:function(e){t.version=1}}},[t._v("6GB+64GB 全网通")]),s("div",{staticClass:"phone fr",class:{checked:2==t.version},on:{click:function(e){t.version=2}}},[t._v("4GB+64GB 移动4G")])]),t._m(2),s("div",{staticClass:"item-total"},[s("div",{staticClass:"phone-info clearfix"},[s("div",{staticClass:"fl"},[t._v(t._s(t.product.name)+" "+t._s(1==t.version?"6GB+64GB 全网通":"4GB+64GB 移动4G")+" 深灰色")]),s("div",{staticClass:"fr"},[t._v(t._s(t.product.price)+"元")])]),s("div",{staticClass:"phone-total"},[t._v("总计："+t._s(t.product.price)+"元")])]),s("div",{staticClass:"btn-group"},[s("a",{staticClass:"btn btn-huge fl",attrs:{href:"javascript:;"},on:{click:t.addCart}},[t._v("加入购物车")])])])])]),t._m(3),s("service-bar")],1)},pt=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("p",{staticClass:"item-info"},[t._v("相机全新升级 / 960帧超慢动作 / 手持超级夜景 / 全球首款双频GPS / 骁龙845处理器 / 红"),s("br"),t._v("外人脸解锁 / AI变焦双摄 / 三星 AMOLED 屏")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"item-addr"},[s("i",{staticClass:"icon-loc"}),s("div",{staticClass:"addr"},[t._v("北京 北京市 朝阳区 安定门街道")]),s("div",{staticClass:"stock"},[t._v("有现货")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"item-color"},[s("h2",[t._v("选择颜色")]),s("div",{staticClass:"phone checked"},[s("span",{staticClass:"color"}),t._v(" 深空灰 ")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"price-info"},[s("div",{staticClass:"container"},[s("h2",[t._v("价格说明")]),s("div",{staticClass:"desc"},[s("img",{attrs:{src:"/imgs/detail/item-price.jpeg",alt:""}})])])])}],vt={name:"detail",components:{swiper:Q["swiper"],swiperSlide:Q["swiperSlide"],ProductParam:nt,ServiceBar:U},data:function(){return{id:this.$route.params.id,version:1,product:{},swiperOption:{autoplay:!0,pagination:{el:".swiper-pagination",clickable:!0},effect:"fade",fadeEffect:{crossFade:!0}},mainImage:"/imgs/detail/phone-1.jpg"}},mounted:function(){this.getProductInfo()},methods:{getProductInfo:function(){var t=this;this.axios.get("/products/".concat(this.id)).then((function(e){t.product=e,t.mainImage=e.mainImage}))},addCart:function(){var t=this;this.axios.post("/carts",{productId:this.id,selected:!0}).then((function(e){t.$store.dispatch("saveCartCount",e.cartTotalQuantity),t.$message.success("已加入购物车")}))}}},mt=vt,ft=(s("f8df"),Object(f["a"])(mt,ut,pt,!1,null,null,null)),ht=ft.exports,_t=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"cart"},[s("order-header",{attrs:{title:"我的购物车"},scopedSlots:t._u([{key:"tip",fn:function(){return[s("span",[t._v("温馨提示：产品是否购买成功，以最终下单为准哦，请尽快结算")])]},proxy:!0}])}),s("div",{staticClass:"wrapper"},[s("div",{staticClass:"container"},[s("div",{staticClass:"cart-box"},[s("ul",{staticClass:"cart-item-head"},[s("li",{staticClass:"col-1"},[s("span",{staticClass:"checkbox",class:{checked:t.allChecked},on:{click:t.toggleAll}}),t._v("全选")]),s("li",{staticClass:"col-3"},[t._v("商品名称")]),s("li",{staticClass:"col-1"},[t._v("单价")]),s("li",{staticClass:"col-2"},[t._v("数量")]),s("li",{staticClass:"col-1"},[t._v("小计")]),s("li",{staticClass:"col-1"},[t._v("操作")])]),s("ul",{staticClass:"cart-item-list"},t._l(t.list,(function(e,a){return s("li",{key:a,staticClass:"cart-item"},[s("div",{staticClass:"item-check"},[s("span",{staticClass:"checkbox",class:{checked:e.productSelected},on:{click:function(s){return t.updateCart(e)}}})]),s("div",{staticClass:"item-name"},[s("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.productMainImage,expression:"item.productMainImage"}]}),s("span",[t._v(t._s(e.productName+" , "+e.productSubtitle))])]),s("div",{staticClass:"item-price"},[t._v(t._s(e.productPrice))]),s("div",{staticClass:"item-num"},[s("div",{staticClass:"num-box"},[s("a",{attrs:{href:"javascript:;"},on:{click:function(s){return t.updateCart(e,"-")}}},[t._v("-")]),s("span",[t._v(t._s(e.quantity))]),s("a",{attrs:{href:"javascript:;"},on:{click:function(s){return t.updateCart(e,"+")}}},[t._v("+")])])]),s("div",{staticClass:"item-total"},[t._v(t._s(e.productTotalPrice))]),s("div",{staticClass:"item-del",on:{click:function(s){return t.confirmDel(e)}}})])})),0)]),s("div",{staticClass:"order-wrap clearfix"},[s("div",{staticClass:"cart-tip fl"},[s("a",{attrs:{href:"/#/index"}},[t._v("继续购物")]),t._v(" 共"),s("span",[t._v(t._s(t.list.length))]),t._v("件商品，已选择"),s("span",[t._v(t._s(t.checkedNum))]),t._v("件 ")]),s("div",{staticClass:"total fr"},[t._v(" 合计："),s("span",[t._v(t._s(t.cartTotalPrice))]),t._v("元 "),s("a",{staticClass:"btn",attrs:{href:"javascript:;"},on:{click:t.order}},[t._v("去结算")])])])])]),s("service-bar"),s("modal",{attrs:{title:"提示",sureText:"确定",btnType:"3",modalType:"middle",showModal:t.showModal},on:{submit:function(e){return t.delProduct()},cancel:function(e){t.showModal=!1}},scopedSlots:t._u([{key:"body",fn:function(){return[s("p",[t._v("是否移除该商品？")])]},proxy:!0}])}),s("nav-footer")],1)},gt=[],Ct=(s("4de4"),function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"order-header"},[s("div",{staticClass:"container clearfix"},[t._m(0),s("div",{staticClass:"title"},[s("h2",[t._v(t._s(t.title)),t._t("tip")],2)]),s("div",{staticClass:"username"},[s("a",{attrs:{href:"javascript:;"}},[t._v(t._s(t.username))])])])])}),bt=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"header-logo"},[s("a",{attrs:{href:"/#/index"}})])}],wt={name:"order-header",props:{title:String},computed:Object(u["a"])({},Object(p["c"])(["username"]))},yt=wt,xt=(s("6b4a"),Object(f["a"])(yt,Ct,bt,!1,null,null,null)),jt=xt.exports,kt={name:"index",components:{OrderHeader:jt,ServiceBar:U,NavFooter:x,Modal:J},data:function(){return{list:[],allChecked:!1,cartTotalPrice:0,checkedNum:0,showModal:!1,itemData:{}}},mounted:function(){this.getCartList()},methods:{getCartList:function(){var t=this;this.axios.get("/carts").then((function(e){t.renderData(e)}))},updateCart:function(t,e){var s=this,a=t.quantity,i=t.productSelected;if("-"===e){if(1==a)return void this.$message.warning("至少保留一件商品");--a}else if("+"===e){if(a>=t.productStock)return void this.$message.warning("购买商品数量不能超过商品库存数量");a++}else i=!t.productSelected;this.axios.put("/carts/".concat(t.productId),{quantity:a,selected:i}).then((function(t){s.renderData(t)}))},confirmDel:function(t){this.showModal=!0,this.itemData=t,console.log(this.itemData)},delProduct:function(){var t=this;this.axios.delete("/carts/".concat(this.itemData.productId)).then((function(e){t.itemData={},t.renderData(e),t.showModal=!1,t.$message.success("删除成功")}))},toggleAll:function(){var t=this,e=this.allChecked?"/carts/unSelectAll":"/carts/selectAll";this.axios.put(e).then((function(e){t.renderData(e)}))},renderData:function(t){this.list=t.cartProductVoList||[],this.allChecked=t.selectedAll,this.cartTotalPrice=t.cartTotalPrice,this.checkedNum=this.list.filter((function(t){return t.productSelected})).length},order:function(){var t=this.list.every((function(t){return!t.productSelected}));t?this.$message.warning("请选择至少一件商品"):this.$router.push("/order/confirm")}}},$t=kt,Et=(s("3924"),Object(f["a"])($t,_t,gt,!1,null,null,null)),Ot=Et.exports,St=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[t._v(" order "),s("order-header"),s("router-view"),s("nav-footer")],1)},Pt=[],Tt={name:"order",components:{OrderHeader:jt,NavFooter:x}},Nt=Tt,Mt=Object(f["a"])(Nt,St,Pt,!1,null,null,null),It=Mt.exports,zt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[t._v(" orderList ")])},Lt=[],Dt={name:"order-list"},At=Dt,Gt=Object(f["a"])(At,zt,Lt,!1,null,null,null),Bt=Gt.exports,Ut=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[t._v(" orderConfirm ")])},Ft=[],Rt={name:"order-confirm"},Ht=Rt,Vt=Object(f["a"])(Ht,Ut,Ft,!1,null,null,null),qt=Vt.exports,Jt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[t._v(" orderPay ")])},Qt=[],Kt={name:"order-pay"},Yt=Kt,Wt=Object(f["a"])(Yt,Jt,Qt,!1,null,null,null),Xt=Wt.exports,Zt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[t._v(" aliPay ")])},te=[],ee={name:"ali-pay"},se=ee,ae=Object(f["a"])(se,Zt,te,!1,null,null,null),ie=ae.exports;r["default"].use(n["a"]);var re=new n["a"]({routes:[{path:"/",name:"home",component:E,redirect:"/index",children:[{path:"/index",name:"index",component:X},{path:"/product/:id",name:"product",component:dt},{path:"/detail/:id",name:"detail",component:ht}]},{path:"/login",name:"login",component:M},{path:"/cart",name:"cart",component:Ot},{path:"/order",name:"order",component:It,children:[{path:"list",name:"order-list",component:Bt},{path:"confirm",name:"order-confirm",component:qt},{path:"pay",name:"order-pay",component:Xt},{path:"alipay",name:"alipay",component:ie}]}]}),ne=s("bc3a"),ce=s.n(ne),oe=s("a7fe"),le=s.n(oe),de=s("caf9"),ue=s("00e7"),pe=s.n(ue),ve=(s("0fae"),{saveUserName:function(t,e){t.username=e},saveCartCount:function(t,e){t.cartCount=e}}),me={saveUserName:function(t,e){t.commit("saveUserName",e)},saveCartCount:function(t,e){t.commit("saveCartCount",e)}};r["default"].use(p["a"]);var fe={username:"",cartCount:0},he=new p["a"].Store({state:fe,mutations:ve,actions:me}),_e=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"app"}},[s("router-view")],1)},ge=[],Ce={name:"App",data:function(){return{data:""}},components:{},mounted:function(){this.$cookie.get("userId")&&(this.getUser(),this.getCartCount())},methods:{getUser:function(){var t=this;this.axios.get("/user").then((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t.$store.dispatch("saveUserName",e.username)}))},getCartCount:function(){var t=this;this.axios.get("/carts/products/sum").then((function(e){t.$store.dispatch("saveCartCount",e)}))}}},be=Ce,we=(s("5c0b"),Object(f["a"])(be,_e,ge,!1,null,null,null)),ye=we.exports;ce.a.defaults.baseURL="/api",ce.a.defaults.timeout=8e3,ce.a.interceptors.response.use((function(t){var e=t.data,s=location.hash;return 0==e.status?e.data:10==e.status?("#/index"!=s&&(window.location.href="/#/login"),Promise.reject(e)):(i.a.warning(e.msg),Promise.reject(e))})),r["default"].use(le.a,ce.a),r["default"].use(pe.a),r["default"].component(i.a.name,i.a),r["default"].use(de["a"],{loading:"/imgs/loading-svg/loading-bars.svg"}),r["default"].prototype.$message=i.a,r["default"].config.productionTip=!1,new r["default"]({store:he,router:re,render:function(t){return t(ye)}}).$mount("#app")},"5c0b":function(t,e,s){"use strict";s("9c0c")},"686c":function(t,e,s){},"6b4a":function(t,e,s){"use strict";s("511f")},"77df":function(t,e,s){},8099:function(t,e,s){},"8ee7":function(t,e,s){"use strict";s("e8ec")},9406:function(t,e,s){"use strict";s("77df")},"9c0c":function(t,e,s){},b313:function(t,e,s){},cc1e:function(t,e,s){},e24c:function(t,e,s){"use strict";s("b313")},e8ec:function(t,e,s){},e96f:function(t,e,s){},eacb:function(t,e,s){"use strict";s("cc1e")},f8df:function(t,e,s){"use strict";s("2eae")},fad4:function(t,e,s){"use strict";s("8099")}});
//# sourceMappingURL=app.1982364d.js.map